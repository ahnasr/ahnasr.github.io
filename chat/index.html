<!DOCTYPE html>
<html lang="en">
 <head>
     <style>
	.container {
		border: 2px solid #dedede;
		background-color: #f1f1f1;
		border-radius: 5px;
		padding: 10px;
		margin: 10px 0;
	}
	#main-tab {
		display: none;
	}
	#loading-div {
		display: block;
	}
	</style>
 </head>
 <body>
	<div id="loading-div" class="show">
		Loading...
	</div>
	<table id="main-tab" class="hide">
		<tr>
			<td id="currentUser" colspan="2">
			</td>
		</tr>
		<tr>
			<td id="sideBar">
				<a id="login-link" href="#msg-text" onclick="login()">Log in</a>
				<a id="logout-link" href="#login-link" onclick="logout()">Log out</a>
			</td>
			<td>
				<table id="chat-tab">
					<tr>
						<td>
							<div id="chatBox" style="height:110px; width:400px; overflow:auto; padding-left:1em; padding-right:1em; border:1px solid gainsboro"></div>
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" id="msg-text" class="chime" onkeyup="createConversationMsg(event)" style="width:99%;" />
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
	
    <script id="connect-loader" data-options="sizeToParent:true;">
         (function() {
             var getUrlParam = function (param) {
                 var codedParam = (new RegExp(param + '=([^&]*)')).exec(window.location.search)[1];
                 return decodeURIComponent(codedParam);
             };

             var baseUrl = getUrlParam('xdm_e') + getUrlParam('cp');
             var options = document.getElementById('connect-loader').getAttribute('data-options');

             var script = document.createElement("script");
             script.src = baseUrl + '/atlassian-connect/all.js';

             if(options) {
                 script.setAttribute('data-options', options);
             }

             document.getElementsByTagName("head")[0].appendChild(script);
         })();
    </script>
	
	<script src="https://g.app.chime.aws/embed/sdk-0.1.1.js"></script>
	<script src="index.js"></script>
 </body>
</html>
